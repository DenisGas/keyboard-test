(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const e of t.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&c(e)}).observe(document,{childList:!0,subtree:!0});function o(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(s){if(s.ep)return;s.ep=!0;const t=o(s);fetch(s.href,t)}})();const r={main:[[{text:"`",code:"Backquote",size:1},{text:"1",code:"Digit1",size:1},{text:"2",code:"Digit2",size:1},{text:"3",code:"Digit3",size:1},{text:"4",code:"Digit4",size:1},{text:"5",code:"Digit5",size:1},{text:"6",code:"Digit6",size:1},{text:"7",code:"Digit7",size:1},{text:"8",code:"Digit8",size:1},{text:"9",code:"Digit9",size:1},{text:"0",code:"Digit0",size:1},{text:"-",code:"Minus",size:1},{text:"=",code:"Equal",size:1},{text:"Backspace",code:"Backspace",size:2}],[{text:"Tab",code:"Tab",size:1.5},{text:"Q",code:"KeyQ",size:1},{text:"W",code:"KeyW",size:1},{text:"E",code:"KeyE",size:1},{text:"R",code:"KeyR",size:1},{text:"T",code:"KeyT",size:1},{text:"Y",code:"KeyY",size:1},{text:"U",code:"KeyU",size:1},{text:"I",code:"KeyI",size:1},{text:"O",code:"KeyO",size:1},{text:"P",code:"KeyP",size:1},{text:":",code:"BracketLeft",size:1},{text:"]",code:"BracketRight",size:1},{text:"\\",code:"Backslash",size:1.5}],[{text:"Caps",code:"CapsLock",size:1.75},{text:"A",code:"KeyA",size:1},{text:"S",code:"KeyS",size:1},{text:"D",code:"KeyD",size:1},{text:"F",code:"KeyF",size:1},{text:"G",code:"KeyG",size:1},{text:"H",code:"KeyH",size:1},{text:"J",code:"KeyJ",size:1},{text:"K",code:"KeyK",size:1},{text:"L",code:"KeyL",size:1},{text:";",code:"Semicolon",size:1},{text:"'",code:"Quote",size:1},{text:"Enter",code:"Enter",size:2.25}],[{text:"Shift",code:"ShiftLeft",size:2.25},{text:"Z",code:"KeyZ",size:1},{text:"X",code:"KeyX",size:1},{text:"C",code:"KeyC",size:1},{text:"V",code:"KeyV",size:1},{text:"B",code:"KeyB",size:1},{text:"N",code:"KeyN",size:1},{text:"M",code:"KeyM",size:1},{text:",",code:"Comma",size:1},{text:".",code:"Period",size:1},{text:"/",code:"Slash",size:1},{text:"Shift",code:"ShiftRight",size:2.75}],[{text:"Ctrl",code:"ControlLeft",size:1.25},{text:"Win",code:"MetaLeft",size:1.25},{text:"Alt",code:"AltLeft",size:1.25},{text:"Space",code:"Space",size:6.25},{text:"Alt",code:"AltRight",size:1.25},{text:"Win",code:"MetaRight",size:1.25},{text:"Menu",code:"ContextMenu",size:1.25},{text:"Ctrl",code:"ControlRight",size:1.25}]],functionKeys:[[{text:"Esc",code:"Escape",size:1},{text:"",code:"",size:.5},{text:"F1",code:"F1",size:1},{text:"F2",code:"F2",size:1},{text:"F3",code:"F3",size:1},{text:"F4",code:"F4",size:1},{text:"",code:"",size:.5},{text:"F5",code:"F5",size:1},{text:"F6",code:"F6",size:1},{text:"F7",code:"F7",size:1},{text:"F8",code:"F8",size:1},{text:"",code:"",size:.5},{text:"F9",code:"F9",size:1},{text:"F10",code:"F10",size:1},{text:"F11",code:"F11",size:1},{text:"F12",code:"F12",size:1},{text:"",code:"",size:.4},{text:"PrtSc",code:"PrintScreen",size:1},{text:"Scroll",code:"ScrollLock",size:1},{text:"Pause",code:"Pause",size:1}]],nav:[[{text:"Insert",code:"Insert",size:1},{text:"Home",code:"Home",size:1},{text:"PgUp",code:"PageUp",size:1}],[{text:"Delete",code:"Delete",size:1},{text:"End",code:"End",size:1},{text:"PgDn",code:"PageDown",size:1}],[{text:"",code:"",size:1},{text:"",code:"",size:1},{text:"",code:"",size:1}],[{text:"",code:"",size:1},{text:"↑",code:"ArrowUp",size:1},{text:"",code:"",size:1}],[{text:"←",code:"ArrowLeft",size:1},{text:"↓",code:"ArrowDown",size:1},{text:"→",code:"ArrowRight",size:1}]],numpad:[[{text:"Num",code:"NumLock",size:1},{text:"/",code:"NumpadDivide",size:1},{text:"*",code:"NumpadMultiply",size:1},{text:"−",code:"NumpadSubtract",size:1}],[{text:"7",code:"Numpad7",size:1},{text:"8",code:"Numpad8",size:1},{text:"9",code:"Numpad9",size:1},{text:"+",code:"NumpadAdd",size:1,height:2}],[{text:"4",code:"Numpad4",size:1},{text:"5",code:"Numpad5",size:1},{text:"6",code:"Numpad6",size:1},{text:"",code:"",size:1,height:1}],[{text:"1",code:"Numpad1",size:1},{text:"2",code:"Numpad2",size:1},{text:"3",code:"Numpad3",size:1},{text:"Enter",code:"NumpadEnter",size:1,height:2}],[{text:"0",code:"Numpad0",size:2},{text:".",code:"NumpadDecimal",size:1},{text:"",code:"",size:1,height:1}]]},y=l=>{const{hasFunctionKeys:i,hasNumpad:o,hasNavKeys:c,bottomRowSize:s}=l,t={};return i&&(t.functionKeys=r.functionKeys),t.main=JSON.parse(JSON.stringify(r.main)),!i&&!o&&(t.main[0]=[{text:"Esc",code:"Escape",size:1},{text:"1",code:"Digit1",size:1},{text:"2",code:"Digit2",size:1},{text:"3",code:"Digit3",size:1},{text:"4",code:"Digit4",size:1},{text:"5",code:"Digit5",size:1},{text:"6",code:"Digit6",size:1},{text:"7",code:"Digit7",size:1},{text:"8",code:"Digit8",size:1},{text:"9",code:"Digit9",size:1},{text:"0",code:"Digit0",size:1},{text:"-",code:"Minus",size:1},{text:"=",code:"Equal",size:1},{text:"Backspace",code:"Backspace",size:2}],t.main[1]=[{text:"Tab",code:"Tab",size:1.5},{text:"Q",code:"KeyQ",size:1},{text:"W",code:"KeyW",size:1},{text:"E",code:"KeyE",size:1},{text:"R",code:"KeyR",size:1},{text:"T",code:"KeyT",size:1},{text:"Y",code:"KeyY",size:1},{text:"U",code:"KeyU",size:1},{text:"I",code:"KeyI",size:1},{text:"O",code:"KeyO",size:1},{text:"P",code:"KeyP",size:1},{text:":",code:"BracketLeft",size:1},{text:"]",code:"BracketRight",size:1},{text:"\\",code:"Backslash",size:1},{text:"`",code:"Backquote",size:1}]),o?(console.log("Generating layout with numpad, bottomRowSize:",s),t.main[t.main.length-1]=[{text:"Ctrl",code:"ControlLeft",size:1.25},{text:"Win",code:"MetaLeft",size:1.25},{text:"Alt",code:"AltLeft",size:1.25},{text:"Space",code:"Space",size:s},{text:"Alt",code:"AltRight",size:1.25},{text:"Win",code:"MetaRight",size:1.25},{text:"Menu",code:"ContextMenu",size:1.25},{text:"Ctrl",code:"ControlRight",size:1.25}]):i?(console.log("Generating layout with function keys, bottomRowSize:",s),t.main[t.main.length-1]=[{text:"Ctrl",code:"ControlLeft",size:1.25},{text:"Win",code:"MetaLeft",size:1.25},{text:"Alt",code:"AltLeft",size:1.25},{text:"Space",code:"Space",size:s},{text:"Alt",code:"AltRight",size:1.25},{text:"Menu",code:"ContextMenu",size:1.25},{text:"Ctrl",code:"ControlRight",size:1.25}]):(console.log("Generating layout without function keys or numpad, bottomRowSize:",s),t.main[t.main.length-1]=[{text:"Ctrl",code:"ControlLeft",size:1.25},{text:"Win",code:"MetaLeft",size:1.25},{text:"Alt",code:"AltLeft",size:1.25},{text:"Space",code:"Space",size:s},{text:"Alt",code:"AltRight",size:1.25},{text:"FN",code:"fn",size:1.25},{text:"Menu",code:"ContextMenu",size:1.25}]),console.log(t.main[t.main.length-1]),o&&(t.numpad=r.numpad),c&&(t.nav=r.nav),t},x=()=>({"100%":y({hasFunctionKeys:!0,hasNumpad:!0,hasNavKeys:!0,bottomRowSize:6.25}),"75%":y({hasFunctionKeys:!0,hasNumpad:!1,hasNavKeys:!0,bottomRowSize:7}),"68%":y({hasFunctionKeys:!1,hasNumpad:!1,hasNavKeys:!0,bottomRowSize:7})});class z{constructor(i,o="100%"){this.root=document.getElementById(i),this.pressedKeysDisplay=this.createPressedKeysDisplay(),this.layoutName=o,this.keyElements={},this.keyState={},this.unitSize=50,this.layouts=x(),this.keyPressHistory=[],this.maxHistoryLength=10,this.createKeyboard(),this.addEventListeners(),this.addLayoutSwitchListeners()}createPressedKeysDisplay(){const i=document.createElement("div");return i.classList.add("pressed-keys-display"),this.root.appendChild(i),i}createKeyboard(){this.root.innerHTML="",this.root.appendChild(this.pressedKeysDisplay),this.keyElements={},this.keyState={};const i=this.layouts[this.layoutName],o=document.createElement("div");if(o.classList.add("keyboard-container"),i.functionKeys){const t=document.createElement("div");t.classList.add("function-keys"),i.functionKeys.forEach(e=>{const d=document.createElement("div");d.classList.add("row"),e.forEach(a=>{this.createKey(d,a)}),t.appendChild(d)}),o.appendChild(t)}const c=document.createElement("div");c.classList.add("grid-container");const s=document.createElement("div");if(s.classList.add("main-block"),i.main.forEach(t=>{const e=document.createElement("div");e.classList.add("row"),t.forEach(d=>{this.createKey(e,d)}),s.appendChild(e)}),c.appendChild(s),i.nav){const t=document.createElement("div");t.classList.add("nav-block"),i.nav.forEach(e=>{const d=document.createElement("div");d.classList.add("row"),e.forEach(a=>{this.createKey(d,a)}),t.appendChild(d)}),c.appendChild(t)}if(i.numpad){const t=document.createElement("div");t.classList.add("numpad-container");const e=document.createElement("div");e.classList.add("numpad-block"),e.style.display="grid",e.style.gridTemplateColumns="repeat(4, 1fr)",e.style.gridTemplateRows="repeat(5, 1fr)",e.style.gap="4px";const d=i.numpad.flat();let a=0;this.createNumpadKey(e,d[a++],1,1,1,1),this.createNumpadKey(e,d[a++],2,1,1,1),this.createNumpadKey(e,d[a++],3,1,1,1),this.createNumpadKey(e,d[a++],4,1,1,1),this.createNumpadKey(e,d[a++],1,2,1,1),this.createNumpadKey(e,d[a++],2,2,1,1),this.createNumpadKey(e,d[a++],3,2,1,1),this.createNumpadKey(e,d[a++],4,2,1,2),this.createNumpadKey(e,d[a++],1,3,1,1),this.createNumpadKey(e,d[a++],2,3,1,1),this.createNumpadKey(e,d[a++],3,3,1,1),a++,this.createNumpadKey(e,d[a++],1,4,1,1),this.createNumpadKey(e,d[a++],2,4,1,1),this.createNumpadKey(e,d[a++],3,4,1,1),this.createNumpadKey(e,d[a++],4,4,1,2),this.createNumpadKey(e,d[a++],1,5,2,1),this.createNumpadKey(e,d[a++],3,5,1,1),a++,t.appendChild(e),c.appendChild(t)}o.appendChild(c),this.root.appendChild(o)}createKey(i,{text:o,code:c,size:s=1,height:t=1}){const e=document.createElement("div");e.style.width=`${this.unitSize*s}px`,e.style.height=`${this.unitSize*t}px`,e.style.minWidth=`${this.unitSize*s}px`,e.style.minHeight=`${this.unitSize*t}px`,o?(e.classList.add("key"),e.textContent=o,e.setAttribute("data-key",c),this.keyElements[c.toLowerCase()]=e,this.keyState[c.toLowerCase()]=!1):e.style.visibility="hidden",i.appendChild(e)}createNumpadKey(i,{text:o,code:c,size:s=1,height:t=1},e,d,a,u){const n=document.createElement("div");n.style.gridColumn=`${e} / span ${a}`,n.style.gridRow=`${d} / span ${u}`,o?(n.classList.add("key"),n.style.width=`${this.unitSize*s}px`,n.style.height=`${this.unitSize*t}px`,n.style.minWidth=`${this.unitSize*s}px`,n.style.minHeight=`${this.unitSize*t}px`,n.textContent=o,n.setAttribute("data-key",c),this.keyElements[c.toLowerCase()]=n,this.keyState[c.toLowerCase()]=!1):n.style.visibility="hidden",i.appendChild(n)}addEventListeners(){document.addEventListener("keydown",i=>{const o=i.code.toLowerCase();this.keyElements[o]&&(i.preventDefault(),this.keyElements[o].classList.add("active","pressed"),this.keyState[o]||(this.keyState[o]=!0,this.addToHistory(o),this.updatePressedKeysDisplay()))}),document.addEventListener("keyup",i=>{const o=i.code.toLowerCase();this.keyElements[o]&&(this.keyElements[o].classList.remove("active"),this.keyState[o]=!1)})}addToHistory(i){const o=Object.values(this.layouts[this.layoutName]).flat().flat().find(s=>s.code.toLowerCase()===i),c=o?o.text:i;this.keyPressHistory.unshift(c),this.keyPressHistory.length>this.maxHistoryLength&&this.keyPressHistory.pop()}updatePressedKeysDisplay(){this.pressedKeysDisplay.textContent=`Key Press History: ${this.keyPressHistory.join(", ")}`}addLayoutSwitchListeners(){document.querySelectorAll('input[name="layout"]').forEach(o=>{o.addEventListener("change",c=>{this.layoutName=c.target.value,this.createKeyboard(),this.keyPressHistory=[],this.updatePressedKeysDisplay()})})}}document.querySelector("#app").innerHTML=`
  <div class="container">
      <div class="layout-switcher">
        <input type="radio" name="layout" id="layout-100" value="100%" checked />
        <label for="layout-100">100%</label>
        <input type="radio" name="layout" id="layout-75" value="75%" />
        <label for="layout-75">75%</label>
        <input type="radio" name="layout" id="layout-68" value="68%" />
        <label for="layout-68">68%</label>
      </div>
      <div id="root"></div>
    </div>
  </div>
`;new z("root","100%");
